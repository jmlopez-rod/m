# AUTOGENERATED FILE - Do not update by hand!
# Edit packages/python/tests/github/actions/multiple/actions.py
#   then run `m github actions [python_file]` to update

name: Made Up Action
description: Main description.

inputs:
  arg-1:
    description: arg 1
    required: true
  arg-2:
    description: arg 2
    required: true
  arg-3:
    default: no_need_to_specify
    description: arg 3
    required: false

outputs:
  main-1:
    description: main 1
    value: ${{ steps.main.outputs.main-1 }}
  main-2:
    description: main 2
    value: ${{ steps.main.outputs.main-2 }}
  setup-out-1:
    description: setup out 1
    value: ${{ steps.setup.outputs.setup-out-1 }}

runs:
  using: composite
  steps:
    - id: bash-step
      shell: bash
      run: |-
        echo 'hello'
        echo 'world'
    - id: setup
      shell: bash
      env:
        INPUT_SETUP_IN_1: ${{ inputs.arg-1 }}
        INPUT_SETUP_IN_2: pnpm-store-${{ hashFiles('**/pnpm-lock.yaml') }}
        INPUT_SETUP_IN_3: setup_in_3
      run: PYTHONPATH="$GITHUB_ACTION_PATH/packages/python/tests/github/actions" python -m multiple.setup
    - id: external
      if: steps.setup.outputs.setup-out-1 == true && inputs.arg-1 == true
      uses: jmlopez-rod/gha-one-step@v0.1.0
      with:
        external-in: ${{ steps.setup.outputs.setup-out-1 }}
    - id: main
      shell: bash
      env:
        INPUT_MAIN_IN: ${{ steps.external.outputs.external-2 }}
      run: PYTHONPATH="$GITHUB_ACTION_PATH/packages/python/tests/github/actions" python -m multiple.main
